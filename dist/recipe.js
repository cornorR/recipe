/*!
 * Recipe.js  Cook your javascript with recipe.js
 * Author     sideroad
 * License    MIT
 *
 * Version    0.1.0
 * https://github.com/sideroad/recipe/
 */
;
/*!
 * HeadJS     The only script in your <HEAD>    
 * Author     Tero Piirainen  (tipiirai)
 * Maintainer Robert Hoffmann (itechnology)
 * License    MIT / http://bit.ly/mit-license
 *
 * Version 0.99
 * http://headjs.com
 */
;(function(i,l){var I=i.document,j=[],x=[],v={},D={},o="async" in I.createElement("script")||"MozAppearance" in I.documentElement.style||i.opera,s,f,b=i.head_conf&&i.head_conf.head||"head",t=i[b]=(i[b]||function(){t.ready.apply(null,arguments)}),G=1,z=2,C=3,k=4;if(o){t.load=function(){var J=arguments,K=J[J.length-1],e={};if(!a(K)){K=null}g(J,function(M,L){if(M!==K){M=H(M);e[M.name]=M;n(M,K&&L===J.length-2?function(){if(B(e)){w(K)}}:null)}});return t}}else{t.load=function(){var e=arguments,K=[].slice.call(e,1),J=K[0];if(!s){x.push(function(){t.load.apply(null,e)});return t}if(!!J){g(K,function(L){if(!a(L)){y(H(L))}});n(H(e[0]),a(J)?J:function(){t.load.apply(null,K)})}else{n(H(e[0]))}return t}}t.js=t.load;t.test=function(N,K,e,M){var J=(typeof N==="object")?N:{test:N,success:!!K?r(K)?K:[K]:false,failure:!!e?r(e)?e:[e]:false,callback:M||h};var L=!!J.test;if(L&&!!J.success){J.success.push(J.callback);t.load.apply(null,J.success)}else{if(!L&&!!J.failure){J.failure.push(J.callback);t.load.apply(null,J.failure)}else{M()}}return t};t.ready=function(J,L){if(J===I){if(f){w(L)}else{j.push(L)}return t}if(a(J)){L=J;J="ALL"}if(typeof J!=="string"||!a(L)){return t}var K=D[J];if(K&&K.state===k||J==="ALL"&&B()&&f){w(L);return t}var e=v[J];if(!e){e=v[J]=[L]}else{e.push(L)}return t};t.ready(I,function(){if(B()){g(v.ALL,function(e){w(e)})}if(t.feature){t.feature("domloaded",true)}});function h(){}function g(e,L){if(!e){return}if(typeof e==="object"){e=[].slice.call(e)}for(var K=0,J=e.length;K<J;K++){L.call(e,e[K],K)}}function m(e,J){var K=Object.prototype.toString.call(J).slice(8,-1);return J!==l&&J!==null&&K===e}function a(e){return m("Function",e)}function r(e){return m("Array",e)}function A(K){var e=K.split("/"),J=e[e.length-1],L=J.indexOf("?");return L!==-1?J.substring(0,L):J}function w(e){e=e||h;if(e._done){return}e();e._done=1}function H(L){var J={};if(typeof L==="object"){for(var e in L){if(!!L[e]){J={name:e,url:L[e],charset:L[e].split("#")[1]||"utf-8"}}}}else{J={name:A(L),url:L,charset:L.split("#")[1]||"utf-8"}}var K=D[J.name];if(K&&K.url===J.url){return K}D[J.name]=J;return J}function B(e){e=e||D;for(var J in e){if(e.hasOwnProperty(J)&&e[J].state!==k){return false}}return true}function F(e){e.state=z;g(e.onpreload,function(J){J.call()})}function y(e,J){if(e.state===l){e.state=G;e.onpreload=[];c({url:e.url,type:"cache"},function(){F(e)})}}function n(e,J){J=J||h;if(e.state===k){J();return}if(e.state===C){t.ready(e.name,J);return}if(e.state===G){e.onpreload.push(function(){n(e,J)});return}e.state=C;c(e,function(){e.state=k;J();g(v[e.name],function(K){w(K)});if(f&&B()){g(v.ALL,function(K){w(K)})}})}function c(K,N){N=N||h;var L;if(/\.css[^\.]*$/.test(K.url)){L=I.createElement("link");L.type="text/"+(K.type||"css");L.rel="stylesheet";L.href=K.url}else{L=I.createElement("script");L.charset=K.charset;L.type="text/"+(K.type||"javascript");L.src=K.url}L.onload=L.onreadystatechange=M;L.onerror=e;L.async=false;L.defer=false;function e(O){O=O||i.event;L.onload=L.onreadystatechange=L.onerror=null;N()}function M(O){O=O||i.event;if(O.type==="load"||(/loaded|complete/.test(L.readyState)&&(!I.documentMode||I.documentMode<9))){L.onload=L.onreadystatechange=L.onerror=null;N()}}var J=I.head||I.getElementsByTagName("head")[0];J.insertBefore(L,J.lastChild)}function p(){if(!I.body){i.clearTimeout(t.readyTimeout);t.readyTimeout=i.setTimeout(p,50);return}if(!f){f=true;g(j,function(e){w(e)})}}function q(){if(I.addEventListener){I.removeEventListener("DOMContentLoaded",q,false);p()}else{if(I.readyState==="complete"){I.detachEvent("onreadystatechange",q);p()}}}if(I.readyState==="complete"){p()}else{if(I.addEventListener){I.addEventListener("DOMContentLoaded",q,false);i.addEventListener("load",p,false)}else{I.attachEvent("onreadystatechange",q);i.attachEvent("onload",p);var u=false;try{u=i.frameElement==null&&I.documentElement}catch(E){}if(u&&u.doScroll){(function d(){if(!f){try{u.doScroll("left")}catch(e){i.clearTimeout(t.readyTimeout);t.readyTimeout=i.setTimeout(d,50);return}p()}})()}}}setTimeout(function(){s=true;g(x,function(e){e()})},300)})(window);var recipe=(function(f,e,g){var c="",a="",b={},i={version:new e.Deferred(),dependencies:new e.Deferred()},j=function(n){var m,k,l=[];for(m=0,k=n.length;m<k;m++){if(e.inArray(n[m],l)===-1){l.push(n[m])}}return l},h=function(u){var k,n=(u||{}).libraries||[],l=(u||{}).scripts||[],q=[],p=[],t=new e.Deferred(),o,s,r,m;h.get.version().then(function(v){h.get.dependencies().then(function(w){for(m=0,o=n.length;m<o;m++){s=w[n[m]];if(!s){t.reject("Ingredients not found. namespace["+n[m]+"]");return t}q=q.concat(s)}q=j(q.concat(l));for(m=0,o=q.length;m<o;m++){r=q[m].split("#");if(!r[0]){t.reject('Illegal URL were exists. ["'+q.join('", "')+'"]');return t}p.push(r[0]+"?_="+v+(r[1]?"#"+r[1]:""))}if(p.length){p.push(function(){t.resolve()});g.js.apply(g,p)}else{t.resolve()}})});return t},d={init:function(){var k=h.get.menu();c=k.replace(/[^\/]+$/,"");if(!k){throw"You might forget to order because of menu was not founded."}h.get.version().then(function(l){h.resolve(k,l)})},resolve:function(l,k){var m=l.split("#");g.js(m[0]+"?_="+k+(m[1]?"#"+m[1]:""))},get:{menu:function(){var k=e("script[src$='/recipe.js'][data-menu]"),l=k.data("menu")||"";return l},version:function(){if(!h.version){g.js(c+"/recipe.version.js?_="+(new Date().getTime()),function(){i.version.resolve(h.version)})}else{i.version.resolve(h.version)}return i.version},dependencies:function(){if(!h.dependencies){g.js(c+"/recipe.dependencies.js?_="+h.version,function(){i.dependencies.resolve(h.dependencies)})}else{i.dependencies.resolve(h.dependencies)}return i.dependencies}}};for(a in d){h[a]=d[a]}h.init();return h})(this,jQuery,head);