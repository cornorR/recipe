/* automatically generated by JSCoverage - do not edit */
if (typeof _$jscoverage === 'undefined') _$jscoverage = {};
if (! _$jscoverage['recipe.js']) {
  _$jscoverage['recipe.js'] = [];
  _$jscoverage['recipe.js'][1] = 0;
  _$jscoverage['recipe.js'][2] = 0;
  _$jscoverage['recipe.js'][4] = 0;
  _$jscoverage['recipe.js'][8] = 0;
  _$jscoverage['recipe.js'][10] = 0;
  _$jscoverage['recipe.js'][11] = 0;
  _$jscoverage['recipe.js'][12] = 0;
  _$jscoverage['recipe.js'][15] = 0;
  _$jscoverage['recipe.js'][22] = 0;
  _$jscoverage['recipe.js'][25] = 0;
  _$jscoverage['recipe.js'][26] = 0;
  _$jscoverage['recipe.js'][27] = 0;
  _$jscoverage['recipe.js'][30] = 0;
  _$jscoverage['recipe.js'][33] = 0;
  _$jscoverage['recipe.js'][39] = 0;
  _$jscoverage['recipe.js'][40] = 0;
  _$jscoverage['recipe.js'][41] = 0;
  _$jscoverage['recipe.js'][43] = 0;
  _$jscoverage['recipe.js'][44] = 0;
  _$jscoverage['recipe.js'][48] = 0;
  _$jscoverage['recipe.js'][51] = 0;
  _$jscoverage['recipe.js'][64] = 0;
  _$jscoverage['recipe.js'][65] = 0;
  _$jscoverage['recipe.js'][67] = 0;
  _$jscoverage['recipe.js'][68] = 0;
  _$jscoverage['recipe.js'][72] = 0;
  _$jscoverage['recipe.js'][73] = 0;
  _$jscoverage['recipe.js'][74] = 0;
  _$jscoverage['recipe.js'][75] = 0;
  _$jscoverage['recipe.js'][76] = 0;
  _$jscoverage['recipe.js'][77] = 0;
  _$jscoverage['recipe.js'][78] = 0;
  _$jscoverage['recipe.js'][79] = 0;
  _$jscoverage['recipe.js'][81] = 0;
  _$jscoverage['recipe.js'][82] = 0;
  _$jscoverage['recipe.js'][86] = 0;
  _$jscoverage['recipe.js'][87] = 0;
  _$jscoverage['recipe.js'][88] = 0;
  _$jscoverage['recipe.js'][89] = 0;
  _$jscoverage['recipe.js'][90] = 0;
  _$jscoverage['recipe.js'][91] = 0;
  _$jscoverage['recipe.js'][93] = 0;
  _$jscoverage['recipe.js'][96] = 0;
  _$jscoverage['recipe.js'][97] = 0;
  _$jscoverage['recipe.js'][98] = 0;
  _$jscoverage['recipe.js'][100] = 0;
  _$jscoverage['recipe.js'][102] = 0;
  _$jscoverage['recipe.js'][107] = 0;
  _$jscoverage['recipe.js'][111] = 0;
  _$jscoverage['recipe.js'][113] = 0;
  _$jscoverage['recipe.js'][114] = 0;
  _$jscoverage['recipe.js'][115] = 0;
  _$jscoverage['recipe.js'][117] = 0;
  _$jscoverage['recipe.js'][118] = 0;
  _$jscoverage['recipe.js'][123] = 0;
  _$jscoverage['recipe.js'][124] = 0;
  _$jscoverage['recipe.js'][128] = 0;
  _$jscoverage['recipe.js'][134] = 0;
  _$jscoverage['recipe.js'][135] = 0;
  _$jscoverage['recipe.js'][136] = 0;
  _$jscoverage['recipe.js'][137] = 0;
  _$jscoverage['recipe.js'][138] = 0;
  _$jscoverage['recipe.js'][139] = 0;
  _$jscoverage['recipe.js'][145] = 0;
  _$jscoverage['recipe.js'][148] = 0;
  _$jscoverage['recipe.js'][151] = 0;
  _$jscoverage['recipe.js'][152] = 0;
  _$jscoverage['recipe.js'][153] = 0;
  _$jscoverage['recipe.js'][156] = 0;
  _$jscoverage['recipe.js'][158] = 0;
  _$jscoverage['recipe.js'][161] = 0;
  _$jscoverage['recipe.js'][162] = 0;
  _$jscoverage['recipe.js'][163] = 0;
  _$jscoverage['recipe.js'][166] = 0;
  _$jscoverage['recipe.js'][168] = 0;
  _$jscoverage['recipe.js'][171] = 0;
  _$jscoverage['recipe.js'][176] = 0;
  _$jscoverage['recipe.js'][177] = 0;
  _$jscoverage['recipe.js'][178] = 0;
  _$jscoverage['recipe.js'][179] = 0;
  _$jscoverage['recipe.js'][181] = 0;
  _$jscoverage['recipe.js'][187] = 0;
  _$jscoverage['recipe.js'][188] = 0;
  _$jscoverage['recipe.js'][190] = 0;
  _$jscoverage['recipe.js'][192] = 0;
  _$jscoverage['recipe.js'][193] = 0;
}
_$jscoverage['recipe.js'][1]++;
recipe = (function (global, head, Q) {
  _$jscoverage['recipe.js'][2]++;
  "use strict";
  _$jscoverage['recipe.js'][4]++;
  var base = "", method = "", cache = {}, hasValue = (function (value, array) {
  _$jscoverage['recipe.js'][8]++;
  var i, len;
  _$jscoverage['recipe.js'][10]++;
  for (i = 0, len = array.length; i < len; i++) {
    _$jscoverage['recipe.js'][11]++;
    if (value === array[i]) {
      _$jscoverage['recipe.js'][12]++;
      return true;
    }
}
  _$jscoverage['recipe.js'][15]++;
  return false;
}), dfd = {version: Q.defer(), dependencies: Q.defer()}, uniq = (function (array) {
  _$jscoverage['recipe.js'][22]++;
  var i, len, uniqued = [];
  _$jscoverage['recipe.js'][25]++;
  for (i = 0, len = array.length; i < len; i++) {
    _$jscoverage['recipe.js'][26]++;
    if (! hasValue(array[i], uniqued)) {
      _$jscoverage['recipe.js'][27]++;
      uniqued.push(array[i]);
    }
}
  _$jscoverage['recipe.js'][30]++;
  return uniqued;
}), define = (function (dependencies, callback) {
  _$jscoverage['recipe.js'][33]++;
  var exports = recipe.exports, variables = [], variable, i, length = dependencies.length;
  _$jscoverage['recipe.js'][39]++;
  for (i = 0; i < length; i++) {
    _$jscoverage['recipe.js'][40]++;
    if (dependencies[i] === "exports") {
      _$jscoverage['recipe.js'][41]++;
      variables.push(recipe.exports);
    }
    else {
      _$jscoverage['recipe.js'][43]++;
      variable = recipe.exports[dependencies[i]];
      _$jscoverage['recipe.js'][44]++;
      variables.push(variable);
    }
}
  _$jscoverage['recipe.js'][48]++;
  callback.apply(global, variables);
}), recipe = (function (options) {
  _$jscoverage['recipe.js'][51]++;
  var namespace, exports = (options || {}).exports || {}, libraries = (options || {}).libraries || [], scripts = (options || {}).scripts || [], isAmd = (options || {}).amd || false, urls = [], args = [], dfd = Q.defer(), len, deps, set, i;
  _$jscoverage['recipe.js'][64]++;
  if (isAmd) {
    _$jscoverage['recipe.js'][65]++;
    global.define = define;
    _$jscoverage['recipe.js'][67]++;
    for (namespace in exports) {
      _$jscoverage['recipe.js'][68]++;
      recipe.exports[namespace] = exports[namespace];
}
  }
  _$jscoverage['recipe.js'][72]++;
  recipe.get.version().promise.then((function (version) {
  _$jscoverage['recipe.js'][73]++;
  recipe.get.dependencies(isAmd).promise.then((function (dependencies) {
  _$jscoverage['recipe.js'][74]++;
  for (i = 0, len = libraries.length; i < len; i++) {
    _$jscoverage['recipe.js'][75]++;
    namespace = libraries[i];
    _$jscoverage['recipe.js'][76]++;
    deps = dependencies[namespace];
    _$jscoverage['recipe.js'][77]++;
    if (! deps && ! recipe.exports[namespace]) {
      _$jscoverage['recipe.js'][78]++;
      dfd.reject("Ingredients not found. namespace[" + libraries[i] + "]");
      _$jscoverage['recipe.js'][79]++;
      return dfd;
    }
    _$jscoverage['recipe.js'][81]++;
    if (deps) {
      _$jscoverage['recipe.js'][82]++;
      urls = urls.concat(deps);
    }
}
  _$jscoverage['recipe.js'][86]++;
  urls = uniq(urls.concat(scripts));
  _$jscoverage['recipe.js'][87]++;
  for (i = 0, len = urls.length; i < len; i++) {
    _$jscoverage['recipe.js'][88]++;
    set = urls[i].split("#");
    _$jscoverage['recipe.js'][89]++;
    if (! set[0]) {
      _$jscoverage['recipe.js'][90]++;
      dfd.reject("Illegal URL were exists. [\"" + urls.join("\", \"") + "\"]");
      _$jscoverage['recipe.js'][91]++;
      return dfd;
    }
    _$jscoverage['recipe.js'][93]++;
    args.push(set[0] + "?_=" + version + (set[1]? "#" + set[1]: ""));
}
  _$jscoverage['recipe.js'][96]++;
  if (args.length) {
    _$jscoverage['recipe.js'][97]++;
    args.push((function () {
  _$jscoverage['recipe.js'][98]++;
  dfd.resolve(recipe.get.variables(libraries, isAmd));
}));
    _$jscoverage['recipe.js'][100]++;
    head.js.apply(head, args);
  }
  else {
    _$jscoverage['recipe.js'][102]++;
    dfd.resolve(recipe.get.variables(libraries, isAmd));
  }
}));
}));
  _$jscoverage['recipe.js'][107]++;
  return dfd.promise;
}), methods = {init: (function () {
  _$jscoverage['recipe.js'][111]++;
  var menu = recipe.get.menu();
  _$jscoverage['recipe.js'][113]++;
  base = menu.replace(/\/[^\/]+$/, "");
  _$jscoverage['recipe.js'][114]++;
  if (! menu) {
    _$jscoverage['recipe.js'][115]++;
    throw "You might forget to order because of menu was not founded.";
  }
  _$jscoverage['recipe.js'][117]++;
  recipe.get.version().promise.then((function (version) {
  _$jscoverage['recipe.js'][118]++;
  recipe.resolve(menu, version);
}));
}), resolve: (function (url, version) {
  _$jscoverage['recipe.js'][123]++;
  var set = url.split("#");
  _$jscoverage['recipe.js'][124]++;
  head.js(set[0] + "?_=" + version + (set[1]? "#" + set[1]: ""));
}), get: {recipeTag: (function () {
  _$jscoverage['recipe.js'][128]++;
  var scripts = document.getElementsByTagName("script"), i, len, script, src;
  _$jscoverage['recipe.js'][134]++;
  if (scripts) {
    _$jscoverage['recipe.js'][135]++;
    for (i = 0, len = scripts.length; i < len; i++) {
      _$jscoverage['recipe.js'][136]++;
      script = scripts[i];
      _$jscoverage['recipe.js'][137]++;
      src = script.src || "";
      _$jscoverage['recipe.js'][138]++;
      if (/\/recipe\.js(\?.*)?$/.test(src) && script.getAttribute("data-menu")) {
        _$jscoverage['recipe.js'][139]++;
        return script;
      }
}
  }
}), menu: (function () {
  _$jscoverage['recipe.js'][145]++;
  var script = recipe.get.recipeTag() || {getAttribute: (function () {
})}, menu = script.getAttribute("data-menu"), url = (script.getAttribute("src") || "").replace(/[^\/]+$/, "") + menu + ".js";
  _$jscoverage['recipe.js'][148]++;
  return menu? url: "";
}), version: (function () {
  _$jscoverage['recipe.js'][151]++;
  if (! recipe.version) {
    _$jscoverage['recipe.js'][152]++;
    head.js(base + "/recipe.version.js?_=" + new Date().getTime(), (function () {
  _$jscoverage['recipe.js'][153]++;
  dfd.version.resolve(recipe.version);
}));
  }
  else {
    _$jscoverage['recipe.js'][156]++;
    dfd.version.resolve(recipe.version);
  }
  _$jscoverage['recipe.js'][158]++;
  return dfd.version;
}), dependencies: (function (isAmd) {
  _$jscoverage['recipe.js'][161]++;
  if (! recipe.dependencies) {
    _$jscoverage['recipe.js'][162]++;
    head.js(base + "/recipe." + (isAmd? "amd.": "") + "dependencies.js?_=" + recipe.version, (function () {
  _$jscoverage['recipe.js'][163]++;
  dfd.dependencies.resolve(recipe.dependencies);
}));
  }
  else {
    _$jscoverage['recipe.js'][166]++;
    dfd.dependencies.resolve(recipe.dependencies);
  }
  _$jscoverage['recipe.js'][168]++;
  return dfd.dependencies;
}), variables: (function (libraries, isAmd) {
  _$jscoverage['recipe.js'][171]++;
  var variables = {}, exports = recipe.exports, namespace, i, len;
  _$jscoverage['recipe.js'][176]++;
  if (isAmd) {
    _$jscoverage['recipe.js'][177]++;
    for (i = 0, len = libraries.length; i < len; i++) {
      _$jscoverage['recipe.js'][178]++;
      namespace = libraries[i];
      _$jscoverage['recipe.js'][179]++;
      variables[namespace] = exports[namespace];
}
    _$jscoverage['recipe.js'][181]++;
    return variables;
  }
})}};
  _$jscoverage['recipe.js'][187]++;
  for (method in methods) {
    _$jscoverage['recipe.js'][188]++;
    recipe[method] = methods[method];
}
  _$jscoverage['recipe.js'][190]++;
  recipe.exports = recipe.exports || {Q: Q};
  _$jscoverage['recipe.js'][192]++;
  recipe.init();
  _$jscoverage['recipe.js'][193]++;
  return recipe;
})(this, head, Q);
_$jscoverage['recipe.js'].source = ["recipe = (function(global, head, Q){","  'use strict';","","  var base = '',","      method = '',","      cache = {},","      hasValue = function(value, array){","        var i, len;","","        for(i = 0, len = array.length; i &lt; len; i++){","          if(value === array[i]) {","            return true;","          }","        }","        return false;","      },","      dfd = {","        version: Q.defer(),","        dependencies: Q.defer()","      },","      uniq = function(array){","        var i,","            len,","            uniqued = [];","        for(i = 0, len = array.length; i &lt; len; i++){","          if( !hasValue(array[i], uniqued) ){","           uniqued.push(array[i]);","          }","        }","        return uniqued;","      },","      define = function(dependencies, callback){","        var exports = recipe.exports,","            variables = [],","            variable,","            i,","            length = dependencies.length;","","        for(i=0;i&lt;length;i++){","          if(dependencies[i] === 'exports'){","            variables.push(recipe.exports);","          } else {","            variable = recipe.exports[dependencies[i]];","            variables.push( variable );","          }","        }","","        callback.apply( global, variables);","      },","      recipe = function(options){","        var namespace,","            exports = (options||{}).exports||{},","            libraries = (options||{}).libraries||[],","            scripts = (options||{}).scripts||[],","            isAmd = (options||{}).amd||false,","            urls = [],","            args = [],","            dfd = Q.defer(),","            len,","            deps,","            set,","            i;","","        if(isAmd){","          global.define = define;","","          for(namespace in exports){","            recipe.exports[namespace] = exports[namespace];","          }","        }","","        recipe.get.version().promise.then(function(version){","          recipe.get.dependencies(isAmd).promise.then(function(dependencies){","            for( i = 0, len = libraries.length; i&lt;len; i++){","              namespace = libraries[i];","              deps = dependencies[namespace];","              if(!deps &amp;&amp; !recipe.exports[namespace]) {","                dfd.reject(\"Ingredients not found. namespace[\"+libraries[i]+\"]\");","                return dfd;","              }","              if(deps){","                urls = urls.concat( deps );","              }","            }","","            urls = uniq( urls.concat(scripts) );","            for( i = 0, len = urls.length; i&lt;len; i++){","              set = urls[i].split(\"#\");","              if(!set[0]){","                dfd.reject(\"Illegal URL were exists. [\\\"\"+urls.join(\"\\\", \\\"\")+\"\\\"]\");","                return dfd;","              }","              args.push(set[0]+\"?_=\"+version+(set[1]?\"#\"+set[1]:\"\"));","            }","","            if(args.length) {","              args.push(function(){","                dfd.resolve(recipe.get.variables(libraries, isAmd));","              });","              head.js.apply(head, args);","            } else {","              dfd.resolve(recipe.get.variables(libraries, isAmd));","            }","","          });","        });","        return dfd.promise;","      },","      methods = {","        init: function(){","          var menu = recipe.get.menu();","          ","          base = menu.replace(/\\/[^\\/]+$/, \"\");","          if(!menu) {","            throw \"You might forget to order because of menu was not founded.\";","          }","          recipe.get.version().promise.then(function(version){","            recipe.resolve(menu, version);","          });","","        },","        resolve: function(url, version){","          var set = url.split(\"#\");","          head.js(set[0]+\"?_=\"+version+(set[1]?\"#\"+set[1]:\"\"));","        },","        get: {","          recipeTag: function(){","            var scripts = document.getElementsByTagName(\"script\"),","                i,","                len,","                script,","                src;","","            if(scripts){","              for(i=0, len = scripts.length; i&lt;len; i++){","                script = scripts[i];","                src = script.src || \"\";","                if( /\\/recipe\\.js(\\?.*)?$/.test( src ) &amp;&amp; script.getAttribute('data-menu')){","                  return script;","                }","              }","            }","          },","          menu: function(){","            var script = recipe.get.recipeTag() || {getAttribute:function(){}},","                menu = script.getAttribute(\"data-menu\"),","                url = (script.getAttribute(\"src\")||\"\").replace(/[^\\/]+$/, \"\")+menu+\".js\";","            return menu ? url : \"\";","          },","          version: function(){","            if( !recipe.version ) {","              head.js(base+'/recipe.version.js?_='+(new Date().getTime()), function(){","                dfd.version.resolve(recipe.version);","              });","            } else {","              dfd.version.resolve(recipe.version);","            }","            return dfd.version;","          },","          dependencies: function(isAmd){","            if(!recipe.dependencies) {","              head.js(base+'/recipe.'+(isAmd?'amd.':'')+'dependencies.js?_='+recipe.version, function(){","                dfd.dependencies.resolve(recipe.dependencies);","              });","            } else {","              dfd.dependencies.resolve(recipe.dependencies);","            }","            return dfd.dependencies;","          },","          variables: function(libraries, isAmd){","            var variables = {},","                exports = recipe.exports,","                namespace,","                i, len;","","            if(isAmd) {","              for(i=0, len=libraries.length; i&lt;len; i++){","                namespace = libraries[i];","                variables[namespace] = exports[namespace];","              }","              return variables;","            }","          }","        }","      };","","  for(method in methods){","    recipe[method] = methods[method];","  }","  recipe.exports = recipe.exports || {Q:Q};","","  recipe.init();","  return recipe;","})(this, head, Q);"];
